# -*- mode: Makefile;-*

JAVAHOME = ${JAVA_HOME}

.PHONY: phoebus als-phoebus
# Phoebus doesn't own phoebus.org, so we cannot download Phoebus snapshot from sonatype,
# So, it is mandatory to build Phoebus first, before we build any of Alarm services.

phoebus:
ifeq "$(JAVAHOME)" ""
	$(QUIET)echo "JAVA_HOME must be defined. Please do the following command first:"     
	$(QUIET)echo "source scripts/set_java_path.bash \"set\" "
else
	$(QUIET)mvn -f $(SRC_ROOT)/pom.xml clean install -settings=$(SITE_TEMPLATE_PATH)/phoebus_settings.xml  -Dmaven.test.skip=true
endif



als-phoebus:
ifeq "$(JAVAHOME)" ""
	$(QUIET)echo "JAVA_HOME must be defined. Please do the following command first:"     
	$(QUIET)echo "source scripts/set_java_path.bash \"set\" "
else
	$(QUIET)mvn -f $(TOP)/phoebus-products/pom.xml clean install -settings=$(SITE_TEMPLATE_PATH)/phoebus_settings.xml  -Dmaven.test.skip=true
endif
